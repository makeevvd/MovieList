(this.webpackJsonpmovielist=this.webpackJsonpmovielist||[]).push([[0],{175:function(n,e,t){},176:function(n,e,t){},1881:function(n,e,t){"use strict";t.r(e);var r,a=t(10),i=t(0),c=t(25),o=t.n(c),s=(t(175),t(16)),u=t(105),d=t.n(u),l=t(155),j=t(42),b=(t(176),t(161)),p=t(17);!function(n){n.SET_MOVIES="movies/SET_MOVIES",n.SET_GENRES="movies/SET_GENRES",n.SET_LOADING_STATE="movies/SET_LOADING_STATE",n.SET_PAGE="SET_PAGE",n.ADD_MOVIES="ADD_MOVIES",n.TOGGLE_FAVOURITE="TOGGLE_FAVOURITE"}(r||(r={}));var O=function(n){return{type:r.SET_MOVIES,payload:n}},x=function(n){return{type:r.SET_LOADING_STATE,payload:n}},f=t(47),h=t(80),v=t.n(h);function m(){var n=Object(s.a)(["\n    @media (max-width: 768px) {\n        margin: 0 auto;\n      }\n"]);return m=function(){return n},n}function g(){var n=Object(s.a)(["\n    display: flex;\n    flex-direction: column;\n"]);return g=function(){return n},n}function y(){var n=Object(s.a)(["\n    position: absolute;\n    right: 10px;\n    bottom: 10px;\n"]);return y=function(){return n},n}function E(){var n=Object(s.a)(["\n    display: flex;\n    flex-direction: column;\n    text-align: left;\n    position: relative;\n    width: 100%;\n    padding: 15px;\n"]);return E=function(){return n},n}function _(){var n=Object(s.a)(["\n    display: flex;\n    justify-content: flex-start;\n    \n    margin-bottom: 20px;\n    max-width: 500px;\n    min-width: 200px;\n    \n    border-radius: 10px;\n    border: 2px solid rgba(2, 2, 2, 0.05);\n    overflow: hidden;\n\n@media (max-width: 600px) {\n    width: 200px;\n    flex-direction: column;\n  }\n"]);return _=function(){return n},n}function w(){var n=Object(s.a)(["\n  color: ",";\n  font-size: 32px;\n  \n  &:hover {\n    color: gold\n  }\n  \n  @media (max-width: 600px) {\n    font-size: 24px;\n  }\n"]);return w=function(){return n},n}function S(){var n=Object(s.a)(["\ncolor: peru;\nfont-size: 24px;\n\n&:hover {\ncolor: darkred;\n}\n\n@media (max-width: 600px) {\n    font-size: 16px;\n  }\n\n"]);return S=function(){return n},n}var R,T=Object(p.a)(f.b)(S()),A=Object(p.a)(b.StarFilled)(w(),(function(n){return n.$isfavourite?"gold":"grey"})),G=p.a.div(_()),I=p.a.div(E()),D=p.a.div(y()),L=p.a.div(g()),N=p.a.div(m()),M=function(n){var e=n.state,t=n.dispatch,i=e.movies.results;if(!i.length)return Object(a.jsx)(v.a,{});var c=i.map((function(n){return Object(a.jsxs)(G,{children:[Object(a.jsx)(N,{children:Object(a.jsx)("img",{style:{minWidth:200},src:n.poster_path?"https://image.tmdb.org/t/p/w200/".concat(n.poster_path):"https://source.unsplash.com/random/200x300",alt:""})}),Object(a.jsxs)(I,{children:[Object(a.jsxs)(L,{children:[Object(a.jsx)(T,{to:"movie/".concat(n.id),children:n.title}),Object(a.jsxs)("div",{children:["Rating: ",n.vote_average]})]}),Object(a.jsx)(D,{children:Object(a.jsx)(A,{onClick:function(){return t((e=n.id,{type:r.TOGGLE_FAVOURITE,payload:e}));var e},$isfavourite:n.isFavourite})})]})]},n.id)}));return Object(a.jsx)("div",{children:c})},V=t(67),k=t(13),F=t(1885),z=t(1884);!function(n){n.LOADED="LOADED",n.LOADING="LOADING",n.ERROR="ERROR",n.NEVER="NEVER"}(R||(R={}));var B={movies:{page:1,results:[],total_pages:500,total_results:1e4},genres:[],LoadingStatus:R.NEVER},P=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case r.SET_MOVIES:return Object(k.a)(Object(k.a)({},n),{},{movies:Object(k.a)(Object(k.a)({},e.payload),{},{results:e.payload.results.map((function(n){return Object(k.a)(Object(k.a)({},n),{},{isFavourite:!1})}))})});case r.ADD_MOVIES:return Object(k.a)(Object(k.a)({},n),{},{movies:Object(k.a)(Object(k.a)({},n.movies),{},{total_pages:e.payload.total_pages,total_results:e.payload.total_results,results:[].concat(Object(V.a)(n.movies.results),Object(V.a)(e.payload.results))})});case r.SET_GENRES:return Object(k.a)(Object(k.a)({},n),e.payload);case r.SET_LOADING_STATE:return Object(k.a)(Object(k.a)({},n),{},{LoadingStatus:e.payload});case r.SET_PAGE:return Object(k.a)(Object(k.a)({},n),{},{movies:Object(k.a)(Object(k.a)({},n.movies),{},{page:e.payload})});case r.TOGGLE_FAVOURITE:return Object(k.a)(Object(k.a)({},n),{},{movies:Object(k.a)(Object(k.a)({},n.movies),{},{results:n.movies.results.map((function(n){return n.id===e.payload?Object(k.a)(Object(k.a)({},n),{},{isFavourite:!n.isFavourite}):n}))})});default:return n}};function U(){var n=Object(s.a)(["\n display: flex;\n flex-direction: column;\n max-width: 400px;\n"]);return U=function(){return n},n}function C(){var n=Object(s.a)(["\nmin-width: 130px;\nmargin-bottom: 8px;\n"]);return C=function(){return n},n}function J(){var n=Object(s.a)(["\n display: flex;\n flex-direction: column;\n max-width: 400px;\n"]);return J=function(){return n},n}function Q(){var n=Object(s.a)(["\ndisplay: flex; \njustify-content: flex-start;\ngap: 20px;\n\n@media (max-width: 600px) {\n    flex-direction: column;\n    justify-content: center;\n    gap: 0;\n  }\n"]);return Q=function(){return n},n}function $(){var n=Object(s.a)(["\ndisplay: flex;\njustify-content: flex-start;\n"]);return $=function(){return n},n}var W=F.a.Option,q=p.a.div($()),H=Object(p.a)(z.a)(Q()),K=p.a.div(J()),X=p.a.label(C()),Y=p.a.div(U()),Z=function(n){var e=n.setSearchQuery,t=n.genres,r=n.setPage,c=Object(i.useReducer)(P,B),o=Object(j.a)(c,2),s=(o[0],o[1],t.map((function(n){return Object(a.jsx)(W,{value:n.id,children:n.name},n.id)})));return Object(a.jsx)(q,{children:Object(a.jsxs)(H,{children:[Object(a.jsx)(z.a.Item,{name:"sortBy",children:Object(a.jsxs)(K,{children:[Object(a.jsx)(X,{htmlFor:"sortBy",children:"Sort by:"}),Object(a.jsxs)(F.a,{style:{width:200},id:"sortBy",onSelect:function(n){e((function(e){return Object(k.a)(Object(k.a)({},e),{},{sort_by:n})})),r(1)},children:[Object(a.jsx)(W,{value:"popularity.desc",children:"Popularity (desc.)"}),Object(a.jsx)(W,{value:"popularity.asc",children:"Popularity (asc.)"}),Object(a.jsx)(W,{value:"vote_average.desc",children:"Rating (desc.)"}),Object(a.jsx)(W,{value:"vote_average.asc",children:"Rating (asc.)"}),Object(a.jsx)(W,{value:"release_date.desc",children:"Recency (desc.)"}),Object(a.jsx)(W,{value:"release_date.asc",children:"Recency (asc.)"})]})]})}),Object(a.jsx)(z.a.Item,{name:"filerBy",children:Object(a.jsxs)(Y,{children:[Object(a.jsx)(X,{htmlFor:"sortBy",children:"Genres:"}),Object(a.jsx)(F.a,{style:{width:200},id:"filterByGenres",onSelect:function(n){e((function(e){return Object(k.a)(Object(k.a)({},e),{},{with_genres:[].concat(Object(V.a)(e.with_genres),[n])})})),r(1)},onDeselect:function(n){e((function(e){return Object(k.a)(Object(k.a)({},e),{},{with_genres:e.with_genres.filter((function(e){return e!==n}))})})),r(1)},mode:"multiple",showArrow:!0,children:s})]})})]})})},nn=(t(1863),t(93)),en=t.n(nn);en.a.defaults.params={},en.a.defaults.params.api_key="4237669ebd35e8010beee2f55fd45546";var tn=en.a.create({baseURL:"https://api.themoviedb.org/3/"}),rn={getMovies:function(n,e){var t={};return n.sort_by&&(t.sort_by=n.sort_by),n.with_genres.length&&(t.with_genres=n.with_genres.join(",")),t.page=e,tn.get("discover/movie",{params:t}).then((function(n){return n.data}))},getGenres:function(){return tn.get("genre/movie/list").then((function(n){return n.data}))},getMovie:function(n){return tn.get("movie/".concat(n)).then((function(n){return n.data}))}},an=t(19);function cn(){var n=Object(s.a)(["\n     margin-top: 20px;\n     padding: 25px;\n     height: 50%;\n     \n     \n     \n     p {\n         color: #545454;\n     }\n     \n     @media screen and (max-width: 1000px) {\n     \n     & {\n      display: flex;\n      align-items: flex-end;\n      padding-top: 0;\n      padding-bottom: 0;\n     }\n        //p {\n        //    display: flex;\n        //}\n      }\n\n"]);return cn=function(){return n},n}function on(){var n=Object(s.a)(["\n     display: inline-block;\n     margin-top: 15px;\n     color: #555;\n     padding: 5px;\n     border-radius: 5px;\n     border: 1px solid rgba(0,0,0,0.05);\n"]);return on=function(){return n},n}function sn(){var n=Object(s.a)(["\n     padding: 25px;\n     height: 40%;\n    \n     h1 {\n         color: black;\n         font-weight: 400;\n     }\n     h4 {\n         color: #555;\n         font-weight: 400;\n     }\n     \n     p {\n         display: inline-block;\n         color: #959595;\n         margin-left: 10px;\n     }\n     \n     \n     \n     //@media screen and (min-width: 768px) {\n     //  width: 65%;\n     //}\n"]);return sn=function(){return n},n}function un(){var n=Object(s.a)(["\n    width: 100%;\n    height: 100%;\n    z-index: 2;\n    border-radius: 10px;\n"]);return un=function(){return n},n}function dn(){var n=Object(s.a)(["\n    position: relative;\n    display: block;\n    width: 800px;\n    height: 350px;\n    //margin: 80px auto;\n    margin-top: 80px; \n    overflow: hidden;\n    border-radius: 10px;\n    transition: all 0.4s;\n    box-shadow: 0 0 120px -25px rgba(0,0,0, 0.5);\n  \n      &:hover{\n        transform: scale(1.02);\n        box-shadow: 0 0 80px -25px rgba(0,0,0, 0.5);\n        transition: all 0.4s;\n      }\n      \n      @media screen and (max-width: 1000px) {\n        margin-top: 20px;\n        width: 320px;\n        height: 100%;\n      }\n"]);return dn=function(){return n},n}function ln(){var n=Object(s.a)(["\n    position: relative;\n    float: left;\n    margin-right: 20px;\n    height: 120px;\n    box-shadow: 0 0 20px -10px rgba(0,0,0,0.5);\n"]);return ln=function(){return n},n}var jn=function(){var n=Object(an.f)().id,e=Object(i.useState)(),t=Object(j.a)(e,2),r=t[0],c=t[1];return Object(i.useEffect)((function(){if(n){var e=+n;rn.getMovie(e).then((function(n){c(n)}))}}),[n]),r?Object(a.jsx)(pn,{children:Object(a.jsxs)(On,{children:[Object(a.jsxs)(xn,{children:[Object(a.jsx)(bn,{src:"https://image.tmdb.org/t/p/original".concat(null===r||void 0===r?void 0:r.backdrop_path),alt:""}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:r.title}),Object(a.jsx)("h4",{children:r.release_date}),Object(a.jsxs)(fn,{className:"minutes",children:[r.runtime," min"]})]})]}),Object(a.jsx)(hn,{children:Object(a.jsx)("p",{className:"text",children:r.overview})})]})}):Object(a.jsx)(v.a,{})},bn=p.a.img(ln()),pn=p.a.div(dn()),On=p.a.div(un()),xn=p.a.div(sn()),fn=p.a.span(on()),hn=p.a.div(cn());function vn(){var n=Object(s.a)(["\n    font-size: 36px;\n    text-align: left;\n    margin-bottom: 40px;\n    font-weight: 700;\n    min-width: 206px;\n        @media (max-width: 600px) {\n            font-size: 24px;\n          }\n"]);return vn=function(){return n},n}function mn(){var n=Object(s.a)(["\n    margin: 0 auto;\n    padding: 40px 120px 120px 120px;\n\n@media (max-width: 600px) {\n    padding: 10px 30px 30px 30px;\n  }\n"]);return mn=function(){return n},n}var gn=function(){return yn};var yn={sort_by:"",with_genres:[]},En=p.a.div(mn()),_n=Object(p.a)(f.b)(vn()),wn=function(){var n=Object(i.useReducer)(P,B),e=Object(j.a)(n,2),t=e[0],c=e[1],o=Object(i.useState)(null),s=Object(j.a)(o,2),u=s[0],b=s[1],p=Object(i.useState)(gn),f=Object(j.a)(p,2),h=f[0],v=f[1],m=Object(i.useState)(1),g=Object(j.a)(m,2),y=g[0],E=g[1],_=Object(i.useRef)(0);Object(i.useEffect)((function(){rn.getGenres().then((function(n){var e;c((e=n,{type:r.SET_GENRES,payload:e}))}))}),[]);var w=Object(i.useRef)(new IntersectionObserver((function(n){var e=n[0].boundingClientRect.y;_.current>e&&E((function(n){return n+1})),_.current=e}),{threshold:1}));return Object(i.useEffect)((function(){(function(){var n=Object(l.a)(d.a.mark((function n(e,t){var a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c(x(R.LOADING)),n.next=4,rn.getMovies(e,t);case 4:a=n.sent,c(t>1?(i=a,{type:r.ADD_MOVIES,payload:i}):O(a)),c(x(R.LOADED)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),c(x(R.ERROR));case 12:case"end":return n.stop()}var i}),n,null,[[0,9]])})));return function(e,t){return n.apply(this,arguments)}})()(h,y)}),[h,y]),Object(i.useEffect)((function(){var n=u,e=w.current;return n&&e.observe(n),function(){n&&e.unobserve(n)}}),[u]),Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)(En,{children:[Object(a.jsx)(_n,{to:"/",children:"Movie Search App"}),Object(a.jsxs)(an.c,{children:[Object(a.jsx)(an.a,{path:"/movie/:id",exact:!0,children:Object(a.jsx)(jn,{})}),Object(a.jsxs)(an.a,{path:"/",children:[Object(a.jsx)(Z,{setSearchQuery:v,genres:t.genres,setPage:E}),Object(a.jsx)(M,{state:t,dispatch:c}),Object(a.jsx)("div",{ref:b,children:Object(a.jsx)("button",{style:{margin:"0 auto"},children:"Load More"})})]})]})]})})};o.a.render(Object(a.jsx)(f.a,{basename:"/MovieList",children:Object(a.jsx)(wn,{})}),document.getElementById("root"))}},[[1881,1,2]]]);
//# sourceMappingURL=main.93a35271.chunk.js.map